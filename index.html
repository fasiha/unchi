<html lang="en">
  <title>ðŸ’©</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    p#buttons {
      position: absolute;
    }
    canvas {
      width: 100vw;
      height: 100vh;
    }
  </style>
  <meta charset="UTF-8" />

  <body>
    <p id="buttons">
      <button id="clear">Clear</button>
    </p>
    <canvas id="canvas"></canvas>
  </body>

  <script>
    function sleep(ms) {
      return new Promise((resolve) => setTimeout(resolve, ms));
    }
    let HOW_MANY = 500000;
    async function draw() {
      const ctx = document.getElementById("canvas").getContext("2d");
      const [width, height] = [window.innerWidth, window.innerHeight];
      ctx.canvas.width = width;
      ctx.canvas.height = height;
      clear(ctx);
      ctx.fillStyle = "rgb(200, 150, 250)";
      for (let i = 0; i < HOW_MANY; i++) {
        const [x, y] = [
          Math.random() * (width + 15) - 15,
          Math.random() * height,
        ];
        const size = Math.round(Math.random() * 100) + 10;
        ctx.font = `${size}px serif`;
        ctx.fillText("ðŸ’©", x, y);
        await sleep(100);
      }
    }
    function clear(ctx) {
      if (!ctx) {
        ctx = document.getElementById("canvas").getContext("2d");
      }
      ctx.fillStyle = "rgb(200, 0, 0)";
      ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);
    }
    draw();

    document.querySelector("button#clear")?.addEventListener("click", () => {
      clear();
    });
  </script>
</html>
